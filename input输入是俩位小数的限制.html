<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<input type="text" name='amount' id="cash_num" placeholder="请输入金额" onkeyup="num(this)">
		<input type="number" placeholder="0" class="buyNum" min="0" onkeyup="value=value.replace(/^(\-)*(\d+)\.(\d\d).*$/, '$1$2.$3')"/>
<script>
	function num(obj) {
		//	obj.value = obj.value.replace(/[^\d.]/g, ""); //只能输入两位小数
		obj.value = obj.value.replace(/[^\d]/g, ""); //清除"数字"和"."以外的字符
		obj.value = obj.value.replace(/^\./g, ""); //验证第一个字符是数字
		obj.value = obj.value.replace(/\.{2,}/g, "."); //只保留第一个, 清除多余的
		obj.value = obj.value.replace(".", "$#$").replace(/\./g, "").replace("$#$", ".");
		obj.value = obj.value.replace(/^(\-)*(\d+)\.(\d\d).*$/, '$1$2.$3'); //只能输入两个小数
	}
</script>
	</body>
</html>
