<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>
  <div id="app">
    <div>
      <span>用户名：</span>
      <span>
		  <!-- lazy是失去焦点的时候触发 -->
        <input type="text" v-model.lazy='uname'>
      </span>
	  <span>{{tip}}</span>
  </div>
  <script type="text/javascript" src="js/vue.js"></script>
  <script type="text/javascript">
    /*
      侦听器
    */
    var vm = new Vue({
      el: '#app',
      data: {
		  uname: '',
		  tip: ''
      },
      computed: {
		  
      },
	  methods:{
		  checkName(uname) {
			  var that = this
			  setInterval(function(){
				  if(uname == 'admin'){
					  that.tip = '用户名已经存在，请更换下一个'
				  } else{
					  that.tip = '用户名可以使用'
					}
			  }, 2000)
		  }
		  
	  },
	  // 监听器的实现是监听数值的变化执行里面的内容
      watch: {
		  uname:function(val) {
		  	this.checkName(val)
			this.tip = '正在验证'
		  }
      }
    });
  </script>
</body>
</html>
