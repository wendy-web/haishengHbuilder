<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>axios的编程</title>
</head>
<body>
  <div id="app">前后端的交互</div>
  <script type="text/javascript" src="js/axios.js"></script>
  <script src="js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script type="text/javascript">
	// 全局配置
	  // 配置请求的基准URL地址
	axios.defaults.baseURL = 'http://localhost:3000/';
	// 配置请求头的信息
	axios.defaults.headers['mytoken'] = 'hello'
	axios.get('axios-json').then(function(ret){
		console.log(ret.data)
	})
	
	
	
	// axios拦截器
	// 发送接口时的拦截器
	axios.interceptors.request.use(function(config) {
	  console.log(config.url)
	  config.headers.mytoken = 'nihao';
	  return config;
	}, function(err){
		// 错误的处理事件
	  console.log(err)
	})
	// 返回接口的时的拦截器
	axios.interceptors.response.use(function(res) {
	  // console.log(res)
	  var data = res.data;
	  return data;
	}, function(err){
	  console.log(err)
	})
	axios.get('http://localhost:3000/adata').then(function(data){
	  console.log(data)
	})
  </script>
</body>
</html>
