<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>async的编程</title>
</head>
<body>
  <div id="app">前后端的交互</div>
  <script type="text/javascript" src="js/axios.js"></script>
  <script src="js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script type="text/javascript">
	/*
		async/await 处理异常的操作
		async函数返回一个promise实例对象
		await后面可以直接跟一个 Promise实例对象
	*/
   
   axios.defaults.baseURL = 'http://localhost:3000';
   async function queryData() {
     var ret = await axios.get('adata');
     // console.log(ret.data)
     return ret.data;
   }
   async function queryData() {
   	var ret = await axios.get('adata')
	return ret.data
   }
   queryData().then(function(data){
	   console.log(data)
   })
   
   
   /*
     async/await处理多个异步任务
   */
  async function queryDataAll () {
  	var info = await axios.get('async1');
	var ret = await axios.get('async2?info=' + info.data)
	return ret.data;
  }
  
  queryDataAll().then(function(data){
	  console.log(data)
  })
  </script>
</body>
</html>
